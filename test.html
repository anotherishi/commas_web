<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Live Transcription</title>
    </head>
    <body>
        <h1>Live Transcription</h1>
        <div id="transcription"></div>
        <script>
            const transcriptionElement =
                document.getElementById("transcription");

            if (
                "webkitSpeechRecognition" in window ||
                "SpeechRecognition" in window
            ) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                const recognition = new SpeechRecognition();
                recognition.lang = "en-IN"; 
                recognition.continuous = true;

                recognition.onresult = (event) => {
                    let transcript = "";
                    for (
                        let i = event.resultIndex;
                        i < event.results.length;
                        i++
                    ) {
                        transcript += event.results[i][0].transcript;
                    }
                    transcriptionElement.innerText = transcript;
                };

                recognition.onerror = (event) => {
                    console.error("Speech Recognition Error:", event.error);
                };

                recognition.start();
            } else {
                alert("Web Speech API is not supported in this browser.");
            }
        </script>
    </body>
</html>
